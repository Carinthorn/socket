{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"ChatVue\",\n  props: {\n    msg: String\n  },\n  data: function data() {\n    return {\n      rooms: getRooms(),\n      roomId: \"\",\n      alert: false,\n      messages: [],\n      userMessage: \"\",\n      username: \"\",\n      roomName: \"\",\n      dialog: false,\n      newRoomId: \"\",\n      newRoomName: \"\"\n    };\n  },\n  methods: {\n    viewMessages: function viewMessages(id) {\n      var _this = this;\n\n      axios.post(\"http://localhost:2345/getMessage\", {\n        roomId: id\n      }).then(function (res) {\n        console.log(res);\n        _this.messages = res.data;\n      }).catch(function (err) {\n        console.log(err);\n      });\n      this.roomId = id;\n      console.log(this.messages);\n    },\n    getRooms: function getRooms() {\n      var _this2 = this;\n\n      axios.get(\"\").then(function (response) {\n        return _this2.rooms = response;\n      });\n      console.log(response);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;EACAA,eADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IAAA;MACAC,iBADA;MAEAC,UAFA;MAGAC,YAHA;MAIAC,YAJA;MAKAC,eALA;MAMAC,YANA;MAOAC,YAPA;MAQAC,aARA;MASAC,aATA;MAUAC;IAVA;EAAA,CALA;EAkBAC;IACAC,YADA,wBACAC,EADA,EACA;MAAA;;MACAC,MACAC,IADA,CACA,kCADA,EACA;QAAAb;MAAA,CADA,EAEAc,IAFA,CAEA;QACAC;QACA;MACA,CALA,EAMAC,KANA,CAMA;QACAD;MACA,CARA;MASA;MACAA;IACA,CAbA;IAcAE,QAdA,sBAcA;MAAA;;MACAL;QAAA;MAAA;MACAG;IACA;EAjBA;AAlBA","names":["name","props","msg","data","rooms","roomId","alert","messages","userMessage","username","roomName","dialog","newRoomId","newRoomName","methods","viewMessages","id","axios","post","then","console","catch","getRooms"],"sourceRoot":"src/components","sources":["Chat.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row no-gutters>\n      <v-col\n        class=\"sidebar m-1\"\n        color=\"#191D27\"\n        style=\"overflow-y: auto; height: 100%; position: relative\"\n      >\n        <v-card\n          class=\"mx-auto mt-1\"\n          color=\"#292F3F\"\n          dark\n          @click=\"dialog = true\"\n        >\n          <v-card-actions>\n            <v-list-item class=\"grow\">\n              <v-list-item-content>\n                <center>\n                  <v-list-item-title>+ Add room {{ msg }}</v-list-item-title>\n                </center>\n              </v-list-item-content>\n              <v-dialog v-model=\"dialog\" width=\"500\">\n                <v-card>\n                  <v-card-title class=\"text-h5 grey lighten-2\">\n                    Create New Room\n                  </v-card-title>\n\n                  <v-card-text>\n                    <v-text-field\n                      label=\"Room Id\"\n                      v-model=\"newRoomId\"\n                      hide-details=\"auto\"\n                    ></v-text-field>\n\n                    <v-text-field\n                      label=\"Room name\"\n                      v-model=\"newRoomName\"\n                      hide-details=\"auto\"\n                    ></v-text-field>\n                  </v-card-text>\n\n                  <v-divider></v-divider>\n\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" text @click=\"dialog = false\">\n                      create\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-list-item>\n          </v-card-actions>\n        </v-card>\n        <v-card\n          v-for=\"item in rooms\"\n          :key=\"item.index\"\n          @click=\"viewMessages(item)\"\n          class=\"mx-auto mt-1\"\n          color=\"#292F3F\"\n          dark\n        >\n          <v-card-actions>\n            <v-list-item class=\"grow\">\n              <v-list-item-avatar color=\"grey darken-3\">\n                <v-img\n                  class=\"elevation-6\"\n                  alt=\"\"\n                  src=\"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light\"\n                ></v-img>\n              </v-list-item-avatar>\n              <v-list-item-content>\n                <v-list-item-title>Rooms : {{ item }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n      <v-col\n        cols=\"9\"\n        class=\"ml-1\"\n        style=\"overflow-y: auto; height: 100%; position: relative\"\n      >\n        <v-card\n          class=\"mx-auto mt-1\"\n          color=\"#292F3F\"\n          dark\n          style=\"position: sticky; top: 0; z-index: 100\"\n        >\n          <v-card-actions>\n            <v-list-item class=\"grow\">\n              <v-list-item-title\n                ><v-btn>delete messages</v-btn> Room Id : {{ roomId }}\n              </v-list-item-title>\n            </v-list-item>\n          </v-card-actions>\n        </v-card>\n\n        <v-card\n          :key=\"item.index\"\n          v-for=\"item in messages\"\n          class=\"pa-2 ma-2 white--text\"\n          color=\"#191d27\"\n        >\n          <p>{{ item.user }} : {{ item.message }}</p>\n        </v-card>\n        <v-card\n          color=\"#292F3F\"\n          dark\n          style=\"position: sticky; bottom: 0\"\n          class=\"sticky\"\n        >\n          <v-card-actions>\n            <v-list-item class=\"grow\">\n              <v-card-subtitle>\n                <v-text-field\n                  label=\"Name\"\n                  v-model=\"username\"\n                  hide-details=\"auto\"\n                ></v-text-field>\n              </v-card-subtitle>\n              <v-text-field\n                label=\"Send chat\"\n                v-model=\"userMessage\"\n                hide-details=\"auto\"\n              ></v-text-field>\n              <v-btn elevation=\"2\" @click=\"sendMessage()\">send</v-btn>\n            </v-list-item>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"ChatVue\",\n  props: {\n    msg: String,\n  },\n  data: () => ({\n    rooms: getRooms(),\n    roomId: \"\",\n    alert: false,\n    messages: [],\n    userMessage: \"\",\n    username: \"\",\n    roomName: \"\",\n    dialog: false,\n    newRoomId: \"\",\n    newRoomName: \"\",\n  }),\n\n  methods: {\n    viewMessages(id) {\n      axios\n        .post(\"http://localhost:2345/getMessage\", { roomId: id })\n        .then((res) => {\n          console.log(res);\n          this.messages = res.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      this.roomId = id;\n      console.log(this.messages);\n    },\n    getRooms() {\n      axios.get(\"\").then((response) => (this.rooms = response));\n      console.log(response)\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n.sticky {\n  position: -webkit-sticky;\n  position: sticky;\n  bottom: 0;\n}\n.topbar {\n  margin: 5px;\n  height: 50px;\n  max-height: 10%;\n}\n.row {\n  height: 100%;\n  background-color: black;\n}\n.col {\n  background-color: #191d27;\n}\n.container {\n  padding: 0;\n  height: 640px;\n  max-height: 640px;\n}\n\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}