{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"ChatVue\",\n  props: {\n    msg: String\n  },\n  data: function data() {\n    return {\n      rooms: [12345, 456, 789, 123],\n      roomId: \"\",\n      alert: false,\n      messages: null,\n      userMessage: \"\",\n      username: \"\"\n    };\n  },\n  methods: {\n    addRoom: function addRoom() {\n      var _this = this;\n\n      this.alert = true;\n      setTimeout(function () {\n        _this.alert = false;\n      }, 5000);\n    },\n    viewMessages: function viewMessages(roomId) {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:5050/get/\" + roomId).then(function (res) {\n        _this2.messages = res.data;\n      }).catch(function (err) {\n        console.log(err);\n      });\n      this.roomId = roomId;\n    },\n    sendMessage: function sendMessage() {\n      axios.post(\"http://localhost:5050/send/\" + this.roomId + \":\" + this.userMessage + \":\" + this.username).then(function (res) {\n        console.log(res);\n      }).catch(function (err) {\n        console.log(err);\n      });\n      this.viewMessages(this.roomId);\n      this.userMessage = \"\";\n    },\n    createRoom: function createRoom() {\n      axios.post(\"http://localhost:5050/createRoom/\" + this.roomId + \":\" + this.userMessage + \":\" + this.username).then(function (res) {\n        console.log(res);\n      }).catch(function (err) {\n        console.log(err);\n      });\n      this.viewMessages(this.roomId);\n      this.userMessage = \"\";\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;EACAA,eADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IAAA;MACAC,6BADA;MAEAC,UAFA;MAGAC,YAHA;MAIAC,cAJA;MAKAC,eALA;MAMAC;IANA;EAAA,CALA;EAcAC;IACAC,OADA,qBACA;MAAA;;MACA;MACAC;QACA;MACA,CAFA,EAEA,IAFA;IAGA,CANA;IAOAC,YAPA,wBAOAR,MAPA,EAOA;MAAA;;MACAS,MACAC,GADA,CACA,qCADA,EAEAC,IAFA,CAEA;QACA;MACA,CAJA,EAKAC,KALA,CAKA;QACAC;MACA,CAPA;MAQA;IACA,CAjBA;IAkBAC,WAlBA,yBAkBA;MACAL;QACAI;MACA,CAFA,EAGAD,KAHA,CAGA;QACAC;MACA,CALA;MAMA;MACA;IACA,CA3BA;IA4BAE,UA5BA,wBA4BA;MACAN;QACAI;MACA,CAFA,EAGAD,KAHA,CAGA;QACAC;MACA,CALA;MAMA;MACA;IAEA;EAtCA;AAdA","names":["name","props","msg","data","rooms","roomId","alert","messages","userMessage","username","methods","addRoom","setTimeout","viewMessages","axios","get","then","catch","console","sendMessage","createRoom"],"sourceRoot":"src/components","sources":["Chat.vue"],"sourcesContent":["<template>\n  <v-container>\n    <!-- <v-alert :value=\"alert\" border=\"top\" color=\"red lighten-2\" dark>\n      ฝากน้องธัญเพิ่มห้องให้หน่อยนะะ\n    </v-alert> -->\n    <v-row no-gutters>\n      <v-col class=\"sidebar m-1\" color=\"#191D27\">\n        <v-card style=\"flex: 2\">\n          <v-text-field\n            label=\"Enter room name\"\n            v-model=\"roomName\"\n            hide-details=\"auto\"\n          ></v-text-field>\n        </v-card>\n        <v-btn elevation=\"2\" v-model=\"userRoomName\" @click=\"createRoom()\">Create room</v-btn>\n        <!-- <v-card class=\"mx-auto mt-1\" color=\"#292F3F\" dark @click=\"addRoom()\">  -->\n          <v-card-actions>\n            <v-list-item class=\"grow\">\n              <v-list-item-content>\n                <v-list-item-title>+ {{ msg }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n          </v-card-actions>\n        <!-- </v-card> -->\n        <v-card\n          v-for=\"item in rooms\"\n          :key=\"item.index\"\n          @click=\"viewMessages(item)\"\n          class=\"mx-auto mt-1\"\n          color=\"#292F3F\"\n          dark\n        >\n          <v-card-actions>\n            <v-list-item class=\"grow\">\n              <v-list-item-avatar color=\"grey darken-3\">\n                <v-img\n                  class=\"elevation-6\"\n                  alt=\"\"\n                  src=\"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light\"\n                ></v-img>\n              </v-list-item-avatar>\n              <v-list-item-content>\n                <v-list-item-title>Rooms : {{ item }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n          </v-card-actions>\n        </v-card>\n        <v-card style=\"flex: 2\">\n          <v-text-field\n            label=\"Name\"\n            v-model=\"username\"\n            hide-details=\"auto\"\n          ></v-text-field>\n          <v-text-field\n            label=\"Send chat\"\n            v-model=\"userMessage\"\n            hide-details=\"auto\"\n          ></v-text-field>\n        </v-card>\n        <v-btn elevation=\"2\" @click=\"sendMessage()\">send</v-btn>\n      </v-col>\n      <v-col cols=\"9\" class=\"ml-1\" style=\"overflow-y: auto; height: 100%\">\n        <v-app-bar elevation=\"4\" color=\"#292F3F\" class=\"pa-2 white--text\"\n          >Chats room\n        </v-app-bar>\n        <v-card\n          :key=\"item.index\"\n          v-for=\"item in messages\"\n          class=\"pa-2 ma-2 white--text\"\n          color=\"#191d27\"\n        >\n          <p>{{ item.user }} : {{ item.message }}</p>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"ChatVue\",\n  props: {\n    msg: String,\n  },\n  data: () => ({\n    rooms: [12345, 456, 789, 123],\n    roomId: \"\",\n    alert: false,\n    messages: null,\n    userMessage: \"\",\n    username: \"\"\n  }),\n\n  methods: {\n    addRoom() {\n      this.alert = true;\n      setTimeout(() => {\n        this.alert = false;\n      }, 5000);\n    },\n    viewMessages(roomId) {\n      axios\n        .get(\"http://localhost:5050/get/\" + roomId)\n        .then((res) => {\n          this.messages = res.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      this.roomId = roomId\n    },\n    sendMessage(){\n      axios.post(\"http://localhost:5050/send/\"+this.roomId+\":\"+this.userMessage+\":\"+this.username).then((res) => {\n        console.log(res)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n      this.viewMessages(this.roomId)\n      this.userMessage = \"\"\n    },\n    createRoom(){\n      axios.post(\"http://localhost:5050/createRoom/\"+this.roomId+\":\"+this.userMessage+\":\"+this.username).then((res) => {\n        console.log(res)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n      this.viewMessages(this.roomId)\n      this.userMessage = \"\"\n\n    }\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.topbar {\n  margin: 5px;\n  height: 50px;\n  max-height: 10%;\n}\n.row {\n  height: 100%;\n  background-color: black;\n}\n.col {\n  background-color: #191d27;\n}\n.container {\n  padding: 0;\n  height: 640px;\n  max-height: 640px;\n}\n\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}